{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sachin patel\\\\Desktop\\\\e-commerce-assignment\\\\client\\\\src\\\\pages\\\\ProductDetailPage.tsx\",\n  _s = $RefreshSig$();\n// client/src/pages/ProductDetailPage.tsx (relevant section)\nimport { useCart } from '../context/CartContext'; // Import useCart hook\nimport { useState } from 'react'; // Import useState for quantity\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductDetailPage = () => {\n  _s();\n  // ... (existing state and useEffect for fetching product)\n\n  const {\n    addToCart\n  } = useCart(); // Get addToCart function from context\n  const [quantity, setQuantity] = useState(1); // State for quantity\n\n  const handleAddToCart = () => {\n    if (product) {\n      addToCart(product, quantity);\n      // Optional: Show a success message or redirect to cart\n      alert(`${quantity} x ${product.name} added to cart!`);\n      // navigate('/cart'); // If you want to redirect\n    }\n  };\n\n  // ... (existing loading, error, not found checks)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto p-4 md:p-8 my-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold text-gray-800\",\n        children: \"Quantity: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"1\",\n        max: product.countInStock // Limit quantity by stock\n        ,\n        value: quantity,\n        onChange: e => setQuantity(Math.min(parseInt(e.target.value) || 1, product.countInStock)),\n        className: \"ml-2 w-20 p-2 border border-gray-300 rounded-md text-center\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full md:w-auto bg-blue-600 text-white px-8 py-3 rounded-md text-lg font-semibold hover:bg-blue-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed\",\n      disabled: product.countInStock === 0 || quantity > product.countInStock || quantity < 1 // Disable if out of stock or invalid quantity\n      ,\n      onClick: handleAddToCart // Call your new handler\n      ,\n      children: \"Add to Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductDetailPage, \"+oghMZ53HvfuCD1PvIQwVkA2+Jk=\", false, function () {\n  return [useCart];\n});\n_c = ProductDetailPage;\nvar _c;\n$RefreshReg$(_c, \"ProductDetailPage\");","map":{"version":3,"names":["useCart","useState","jsxDEV","_jsxDEV","ProductDetailPage","_s","addToCart","quantity","setQuantity","handleAddToCart","product","alert","name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","min","max","countInStock","value","onChange","e","Math","parseInt","target","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/sachin patel/Desktop/e-commerce-assignment/client/src/pages/ProductDetailPage.tsx"],"sourcesContent":["// client/src/pages/ProductDetailPage.tsx (relevant section)\r\nimport { useCart } from '../context/CartContext'; // Import useCart hook\r\nimport { useState } from 'react'; // Import useState for quantity\r\n\r\nconst ProductDetailPage: React.FC = () => {\r\n  // ... (existing state and useEffect for fetching product)\r\n\r\n  const { addToCart } = useCart(); // Get addToCart function from context\r\n  const [quantity, setQuantity] = useState<number>(1); // State for quantity\r\n\r\n  const handleAddToCart = () => {\r\n    if (product) {\r\n      addToCart(product, quantity);\r\n      // Optional: Show a success message or redirect to cart\r\n      alert(`${quantity} x ${product.name} added to cart!`);\r\n      // navigate('/cart'); // If you want to redirect\r\n    }\r\n  };\r\n\r\n  // ... (existing loading, error, not found checks)\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 md:p-8 my-8\">\r\n      {/* ... existing product display ... */}\r\n      <div className=\"mb-6\">\r\n        <span className=\"font-semibold text-gray-800\">Quantity: </span>\r\n        <input\r\n          type=\"number\"\r\n          min=\"1\"\r\n          max={product.countInStock} // Limit quantity by stock\r\n          value={quantity}\r\n          onChange={(e) => setQuantity(Math.min(parseInt(e.target.value) || 1, product.countInStock))}\r\n          className=\"ml-2 w-20 p-2 border border-gray-300 rounded-md text-center\"\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        className=\"w-full md:w-auto bg-blue-600 text-white px-8 py-3 rounded-md text-lg font-semibold hover:bg-blue-700 transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n        disabled={product.countInStock === 0 || quantity > product.countInStock || quantity < 1} // Disable if out of stock or invalid quantity\r\n        onClick={handleAddToCart} // Call your new handler\r\n      >\r\n        Add to Cart\r\n      </button>\r\n      {/* ... rest of the component */}\r\n    </div>\r\n  );\r\n};"],"mappings":";;AAAA;AACA,SAASA,OAAO,QAAQ,wBAAwB,CAAC,CAAC;AAClD,SAASC,QAAQ,QAAQ,OAAO,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,iBAA2B,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxC;;EAEA,MAAM;IAAEC;EAAU,CAAC,GAAGN,OAAO,CAAC,CAAC,CAAC,CAAC;EACjC,MAAM,CAACO,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAS,CAAC,CAAC,CAAC,CAAC;;EAErD,MAAMQ,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIC,OAAO,EAAE;MACXJ,SAAS,CAACI,OAAO,EAAEH,QAAQ,CAAC;MAC5B;MACAI,KAAK,CAAC,GAAGJ,QAAQ,MAAMG,OAAO,CAACE,IAAI,iBAAiB,CAAC;MACrD;IACF;EACF,CAAC;;EAED;;EAEA,oBACET,OAAA;IAAKU,SAAS,EAAC,mCAAmC;IAAAC,QAAA,gBAEhDX,OAAA;MAAKU,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBX,OAAA;QAAMU,SAAS,EAAC,6BAA6B;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/Df,OAAA;QACEgB,IAAI,EAAC,QAAQ;QACbC,GAAG,EAAC,GAAG;QACPC,GAAG,EAAEX,OAAO,CAACY,YAAa,CAAC;QAAA;QAC3BC,KAAK,EAAEhB,QAAS;QAChBiB,QAAQ,EAAGC,CAAC,IAAKjB,WAAW,CAACkB,IAAI,CAACN,GAAG,CAACO,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACL,KAAK,CAAC,IAAI,CAAC,EAAEb,OAAO,CAACY,YAAY,CAAC,CAAE;QAC5FT,SAAS,EAAC;MAA6D;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENf,OAAA;MACEU,SAAS,EAAC,qLAAqL;MAC/LgB,QAAQ,EAAEnB,OAAO,CAACY,YAAY,KAAK,CAAC,IAAIf,QAAQ,GAAGG,OAAO,CAACY,YAAY,IAAIf,QAAQ,GAAG,CAAE,CAAC;MAAA;MACzFuB,OAAO,EAAErB,eAAgB,CAAC;MAAA;MAAAK,QAAA,EAC3B;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEN,CAAC;AAEV,CAAC;AAACb,EAAA,CA1CID,iBAA2B;EAAA,QAGTJ,OAAO;AAAA;AAAA+B,EAAA,GAHzB3B,iBAA2B;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}